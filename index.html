<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Lenguajes del amor</title>

<style>
html, body {
  margin:0;
  padding:0;
  width:768px;
  height:768px;
  overflow:hidden;
  font-family: Arial, sans-serif;
}

.contenedor {
  position: relative;
  width:768px;
  height:768px;
}

/* Video de fondo */
#fondoVideo {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:0;
}

/* Capa UI */
/* Barras con coordenadas */
#barra-regalos {
  position:absolute;
  top: 260px;
  left: 100px;
}

#barra-actos {
  position:absolute;
  top: 260px;
  left: 475px;
}

#barra-palabras {
  position:absolute;
  top: 355px;
  left: 100px;
}

#barra-tiempo {
  position:absolute;
  top: 355px;
  left: 475px;
}

#barra-contacto {
  position:absolute;
  top: 448px;
  left: 300px;

}

/* Barras */
.barra {
  width: 200px;
  height: 15px;
  background: white;
  border-radius: 20px;
  overflow: hidden;
  margin-bottom: 40px;
}

.relleno {
  height: 100%;
  width: 0%;
  background: #f93596;
  transition: width 0.8s ease;
}
</style>
</head>

<body>
<div class="contenedor">

  <!-- VIDEO FONDO -->
  <video autoplay muted loop playsinline id="fondoVideo">
    <source src="fondo.mp4" type="video/mp4">
  </video>

  <!-- UI ENCIMA -->
 <div class="ui">
  <div class="barra" id="barra-regalos"><div id="regalos" class="relleno"></div></div>
  <div class="barra" id="barra-actos"><div id="actos" class="relleno"></div></div>
  <div class="barra" id="barra-palabras"><div id="palabras" class="relleno"></div></div>
  <div class="barra" id="barra-tiempo"><div id="tiempo" class="relleno"></div></div>
  <div class="barra" id="barra-contacto"><div id="contacto" class="relleno"></div></div>
</div>

</div>

<script>
const URL = "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLho6R0uRDMC_9GrwfI0cvD5CABU7qrzs1RiKC545_eoyN1pkXfJLX_vjLCe3DchzOHrDGhvAHfOL4kieoH6mlX_Tnvjn7LiUFng3SV6VkbxgIhCAXfoCpEIVNpLm9Sl66nhCKMijbbeAaa37jSkKxvQ3jTLeSP690-56HO1KhJe0yhxLcEzSqHUC5X7tsQ1mtz39h5Gw511VzlDAzsKX2O5WzVoGfzXfCFUIYfadkjcF0TdtDir-uYHufBr5IalcGxMOWI2ewTEW3b6rU5vw6xFYpeAqg&lib=McgJPm5HJcJ54L-8ideZcEZ-pvmjiA198";

function actualizar() {
  fetch(URL)
    .then(r => r.json())
    .then(data => {

      const total = Object.values(data).reduce((a,b)=>a+b,0);

      if(total === 0) return;

      document.getElementById("regalos").style.width = (data.Regalos/total*100)+"%";
      document.getElementById("actos").style.width = (data.Actos/total*100)+"%";
      document.getElementById("palabras").style.width = (data.Palabras/total*100)+"%";
      document.getElementById("tiempo").style.width = (data.Tiempo/total*100)+"%";
      document.getElementById("contacto").style.width = (data.Contacto/total*100)+"%";
    });
}

actualizar();
setInterval(actualizar, 5000);
</script>
</body>
</html>


